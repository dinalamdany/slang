<html><head><title>plt sandbox language</title><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">ol{margin:0;padding:0}.c3{font-size:12pt;font-style:italic;font-family:"Times New Roman"}.c6{color:#222222;background-color:#ffffff;font-weight:bold}.c10{max-width:468pt;background-color:#ffffff;padding:72pt 72pt 72pt 72pt}.c9{color:#222222;background-color:#ffffff}.c4{font-size:12pt;font-family:"Times New Roman"}.c7{margin-left:18pt}.c2{height:11pt}.c1{text-indent:36pt}.c5{text-align:center}.c0{direction:ltr}.c8{font-weight:bold}.c12{margin-left:36pt}.c11{text-align:left}.title{padding-top:0pt;line-height:1.15;text-align:left;color:#000000;font-size:21pt;font-family:"Trebuchet MS";padding-bottom:0pt}.subtitle{padding-top:0pt;line-height:1.15;text-align:left;color:#666666;font-style:italic;font-size:13pt;font-family:"Trebuchet MS";padding-bottom:10pt}li{color:#000000;font-size:11pt;font-family:"Arial"}p{color:#000000;font-size:11pt;margin:0;font-family:"Arial"}h1{padding-top:10pt;line-height:1.15;text-align:left;color:#000000;font-size:16pt;font-family:"Trebuchet MS";padding-bottom:0pt}h2{padding-top:10pt;line-height:1.15;text-align:left;color:#000000;font-size:13pt;font-family:"Trebuchet MS";font-weight:bold;padding-bottom:0pt}h3{padding-top:8pt;line-height:1.15;text-align:left;color:#666666;font-size:12pt;font-family:"Trebuchet MS";font-weight:bold;padding-bottom:0pt}h4{padding-top:8pt;line-height:1.15;text-align:left;color:#666666;font-size:11pt;text-decoration:underline;font-family:"Trebuchet MS";padding-bottom:0pt}h5{padding-top:8pt;line-height:1.15;text-align:left;color:#666666;font-size:11pt;font-family:"Trebuchet MS";padding-bottom:0pt}h6{padding-top:8pt;line-height:1.15;text-align:left;color:#666666;font-style:italic;font-size:11pt;font-family:"Trebuchet MS";padding-bottom:0pt}</style></head><body class="c10"><p class="c2 c0 c11"><span class="c4 c8"></span></p><p class="c5 c0"><span class="c4 c8">Sandbox Language</span></p><p class="c0 c5"><span class="c4 c8">Joshua Itwaru (jni2102), Mauricio </span><span class="c6 c4">Castaneda (mc3683), Tony Ling (tl2573),</span></p><p class="c5 c0"><span class="c6 c4">&nbsp;Olivia Byer (okb2102), Dina Lamdany (dtl2117)</span></p><p class="c5 c0"><span class="c4 c6">September 25, 2013</span></p><p class="c2 c5 c0"><span class="c4 c8"></span></p><p class="c0"><span class="c6 c4">Motivation</span></p><p class="c0"><span class="c4 c9">In most object oriented languages, the programmer is able to define an object and then use functions to create behaviors for that object. By applying functions to objects, a programmer can cause certain behaviors and actions. In most existing languages, the pattern of behavior must be explicitly defined at all times for each specific type of object. There are situations, however where all objects of all types are meant to reliably and consistently act according to certain rules. Our language was created for those situations. In Sandbox, all objects conform to the same set of rules, which allows for simulations according to specific patterns, such as simulations of the effects of the laws of physics. Sandbox allows a programmer to write programs that model a physical world that they define. </span></p><p class="c2 c0"><span class="c6 c4"></span></p><p class="c0"><span class="c4 c8">Language Description </span></p><p class="c0"><span class="c4">Sandbox is</span><span class="c4">&nbsp;designed so that a programmer can create a universe with its own set of rules and properties, and define inherent properties that objects of the system have. They set the rules that these properties have to obey, such as a set of equations that define how a physical system is to be measured. The &quot;rules&quot; can be thought of as a general object prototype; you state which properties all objects will be created with (and can pre-initialized those properties with values as well). </span></p><p class="c2 c0"><span class="c4"></span></p><p class="c0"><span class="c4">The paradigm of </span><span class="c4">Sandbox</span><span class="c3">&nbsp;</span><span class="c4">is the concept of advancing time and querying for information at that point in time, like playing a movie, pausing it, assessing the physical state of the movie, and then </span><span class="c4">resuming</span><span class="c4">. </span></p><p class="c0"><span class="c4">&nbsp;</span></p><p class="c0"><span class="c4 c8">Syntax:</span></p><p class="c2 c0"><span class="c4"></span></p><p class="c0"><span class="c4">1. Comments: </span></p><p class="c0"><span class="c4">All comments start with an @ symbol and ends at the next @ symbol.</span></p><p class="c0"><span class="c4">All comments are multi-line capable and there is no alternative syntax for single line comments.</span></p><p class="c2 c0"><span class="c4"></span></p><p class="c0"><span class="c4">2. Whitespace:</span></p><p class="c0"><span class="c4">Sandbox</span><span class="c3">&nbsp;</span><span class="c4">is whitespace-sensitive and whitespace is used as token separators. &nbsp;Newline is used as statement terminator. &nbsp;The body of a function should be indented with a tab for each new statement.</span></p><p class="c2 c0"><span class="c4"></span></p><p class="c0"><span class="c4">3. Rules: </span></p><p class="c0"><span class="c4">Definitions for rules must start after the first Rule: and end before the next Endrule. There is only one rules section in any program, and cannot be nested. </span></p><p class="c2 c0"><span class="c4"></span></p><p class="c0"><span class="c4">Property definition: &nbsp;</span><span class="c3">Inherent_property &nbsp;</span><span class="c4">: &nbsp;</span><span class="c3">object_type </span><span class="c4">&nbsp;</span><span class="c3">default_value</span><span class="c4">&nbsp; : &nbsp;</span><span class="c3">object_alias</span></p><p class="c0"><span class="c4">Inherent properties are capitalized, while object types are lowercase. &nbsp;Aliases can be either capitalized or not.</span></p><p class="c2 c0"><span class="c4"></span></p><p class="c0"><span class="c4">Rules definition: &nbsp;</span><span class="c3">Inherent_property </span><span class="c4">&nbsp;= &nbsp;</span><span class="c3">expression</span></p><p class="c0"><span class="c4">Rules can only be defined for a property if the definition for that property already exists. &nbsp;Expressions can contain both primitives and/or previously defined properties. Any operators or looping can be used in the rules.</span></p><p class="c2 c0"><span class="c4"></span></p><p class="c0"><span class="c4">Example of a Rules definition: </span></p><p class="c0"><span class="c4">&nbsp;</span></p><p class="c0"><span class="c4">Rules </span></p><p class="c0 c7"><span class="c4">Mass: </span><span class="c4">int</span><span class="c4">&nbsp; &nbsp; @define the type of Mass as an int@ </span></p><p class="c0"><span class="c4">&nbsp; &nbsp; &nbsp;Velocity: (int 10, int 10, int 10) : (x,y,z) @default values of 10 for int specified@</span></p><p class="c7 c0"><span class="c4">Gravity: (0, -9.81, 0) &nbsp; &nbsp;@initialize Gravity to be a vector with a value@ </span></p><p class="c7 c0"><span class="c4">Forces: [Gravity] &nbsp; &nbsp;@initialize Forces to contain the Gravity vector by default@ </span></p><p class="c7 c0"><span class="c4">Acceleration : (int, int, int): (x,y,z)</span></p><p class="c0"><span class="c4">&nbsp; &nbsp; &nbsp;Acceleration = Force/Mass @rule definition for acceleration can include other </span></p><p class="c0"><span class="c4">properties@</span></p><p class="c0"><span class="c4">EndRule</span></p><p class="c2 c0"><span class="c4"></span></p><p class="c0"><span class="c4">4. &nbsp;Declarations:</span></p><p class="c2 c0"><span class="c4"></span></p><p class="c0"><span class="c4">General: &nbsp;</span><span class="c3">type</span><span class="c4">&nbsp; </span><span class="c3">identifier</span><span class="c4">&nbsp; &nbsp;= &nbsp;</span><span class="c3">type_value</span></p><p class="c2 c0"><span class="c4"></span></p><p class="c0"><span class="c4">Vector: &nbsp;vector &nbsp;</span><span class="c3">identifier </span><span class="c4">&nbsp;= &nbsp;</span><span class="c4">(</span><span class="c3">value1</span><span class="c4">, </span><span class="c3">value2</span><span class="c4">, </span><span class="c3">value3</span><span class="c4">)</span><span class="c4">&nbsp;= (</span><span class="c3">name1</span><span class="c4">,</span><span class="c3">name2</span><span class="c4">,</span><span class="c3">name3</span><span class="c4">)</span></p><p class="c0"><span class="c4">Vectors must always contain 3 values of type int or float. Giving names to each part of the vector is optional. They can be accessed via identifier.name1, etc. The three values can also be accessed by identifier(0), identifier(1) and identifier(2). </span></p><p class="c0"><span class="c4">vector myVector = (1, 1, 0)</span></p><p class="c2 c0"><span class="c4"></span></p><p class="c0"><span class="c4">Array: &nbsp;</span><span class="c4">int[] myarray = []</span></p><p class="c0"><span class="c4">Arrays can contain any type of value, but must contain all values of the same type. The size of the array need not be declared when it is created. </span></p><p class="c2 c0"><span class="c4"></span></p><p class="c0"><span class="c4">Object: &nbsp;object &nbsp;</span><span class="c3">identifier</span><span class="c4">&nbsp; = &nbsp;( </span><span class="c3">object_values </span><span class="c4">)</span></p><p class="c0"><span class="c4">Eg: object dog = object() or</span></p><p class="c0"><span class="c4">object dog = object(mass=5)</span></p><p class="c0"><span class="c4">The type value is optional. &nbsp;If no type value is specified, the object&rsquo;s default values are given by the rule definitions, or set to null if nothing is defined.</span></p><p class="c0 c2"><span class="c4"></span></p><p class="c0"><span class="c4">Functions: &nbsp;func &nbsp;</span><span class="c3">identifier </span><span class="c4">&nbsp;(</span><span class="c3">parameters</span><span class="c4">) &nbsp; </span><span class="c3">return_type</span></p><p class="c1 c0 c12"><span class="c3">body</span></p><p class="c0"><span class="c4">The keyword return is used to return a value from the </span><span class="c4">function</span><span class="c4">. Functions need not return a value.</span></p><p class="c0"><span class="c4">Eg:</span></p><p class="c0 c1"><span class="c4">func mult2(vector v) vector:</span></p><p class="c0"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return 2*v</span></p><p class="c0"><span class="c4">5. Looping</span></p><p class="c0"><span class="c4">While loop:</span></p><p class="c0"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while CONDITION:</span></p><p class="c0"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code</span></p><p class="c0"><span class="c4">For loop:</span></p><p class="c0"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for int = 0, i &lt; n, i++:</span></p><p class="c0"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code</span></p><p class="c2 c0"><span class="c4"></span></p><p class="c0"><span class="c4 c8">Sample Program</span></p><p class="c2 c0"><span class="c4 c8"></span></p><p class="c0"><span class="c4">Imagine we are presented with the following situation:</span></p><p class="c0"><span class="c4">We have an object that has velocity, position, mass, acceleration and forces acting upon it.</span></p><p class="c0"><span class="c4">These situations can be modeled using this programming language, and the state of the &ldquo;objects&rdquo; involved in the frame of reference can be determined for any given time.</span></p><p class="c0"><span class="c4">Specifically, let us consider the following situation that is described in the following image:</span></p><p class="c2 c0"><span class="c4"></span></p><p class="c0"><span class="c4">In this situation we have an object that has an initial speed for the x and y axes of 20 m/s. This object has an initial position at (x,y) = (0,0).</span><img height="219" src="images/image00.png" width="397"></p><p class="c0"><span class="c4">Additionally, gravity is acting on the object.</span></p><p class="c2 c0"><span class="c4"></span></p><p class="c0"><span class="c4">Imagine we want to determine the position of the object at time t = 10 seconds.</span></p><p class="c2 c0"><span class="c4"></span></p><p class="c0"><span class="c4">The following code will solve this problem:</span></p><p class="c2 c0"><span class="c4"></span></p><p class="c0"><span class="c4">@We first define the properties our objects will have@</span></p><p class="c0"><span class="c4">Rule:</span></p><p class="c0"><span class="c4">Position: (float, float, float) : (x,y,z)</span></p><p class="c0"><span class="c4">Velocity: (float, float, float) : (x,y,z)</span></p><p class="c0"><span class="c4">Acceleration: (float, float, float) : (x,y,z)</span></p><p class="c2 c0"><span class="c4"></span></p><p class="c0"><span class="c4">@Rules for the properties that are updated@</span></p><p class="c0"><span class="c4">Position = Position + Velocity * Time + (&frac12;) Acceleration * Time^2</span></p><p class="c0"><span class="c4">Velocity = Velocity + Acceleration * Time</span></p><p class="c0"><span class="c4">EndRule</span></p><p class="c2 c0"><span class="c4"></span></p><p class="c0"><span class="c4">object ball = object();</span></p><p class="c0"><span class="c4">ball.Position = (0,0,0)</span></p><p class="c0"><span class="c4">ball.Velocity = (20,20,0)</span></p><p class="c0"><span class="c4">ball.Acceleration = (0,-10,0)</span></p><p class="c0"><span class="c4">Time.progress(4)</span></p><p class="c0"><span class="c4">print(ball.position)</span></p><p class="c0"><span class="c4">@Output should be: (80,0,0) @</span></p><p class="c2 c0"><span class="c4"></span></p><p class="c0"><span class="c4 c8">Types</span></p><p class="c2 c0"><span class="c4"></span></p><p class="c0"><span class="c4">int</span></p><p class="c0"><span class="c4">float</span></p><p class="c0"><span class="c4">vector: immutable, 3 floats (float, float, float)</span></p><p class="c0"><span class="c4">array: We allow dynamic arrays, so can do += on an array to add an element to the end of an array</span></p><p class="c0"><span class="c4">object: Has properties defined as in the rules. Every object has the same set of properties. Their values can be set on an individual basis, by calling objectname.propertyname = blah, or default values can be set when the property is defined.</span></p><p class="c0"><span class="c4">Time: Built-in type that gives a reference to all objects in the program. See below</span></p><p class="c0"><span class="c4">string</span></p><p class="c2 c0"><span class="c4"></span></p><p class="c0"><span class="c4 c8">Time</span></p><p class="c2 c0"><span class="c4 c8"></span></p><p class="c0"><span class="c4">A major concept in our language is the idea of time. In any program exists a primitive called Time, which is immutable and is automatically created when a program runs. Time exists in the universe of a program similar to the way it exists in our world, and all objects in a program move forward when time moves forward. It can be called as &ldquo;Time.progress(number)&rdquo;, where the number can be positive or negative to denote forward or backwards progression. When time moves, every value in existence is saved, and then new values for those are calculated according to the rules of the universe. All properties of all objects are then updated. The user can then query for system information, via a call to getSystemState, which produces results generated from all of the physical equations that the programmer defined in functions. </span></p><p class="c2 c0"><span class="c4"></span></p><p class="c0"><span class="c4 c8">Operators:</span></p><p class="c0"><span class="c4">=, +, -, *, *=, -=, +=, /=, /, :, ==, .</span></p><p class="c0"><span class="c4">++ increments an integer or a float by 1, -- decrements</span></p><p class="c2 c0"><span class="c4"></span></p><p class="c0"><span class="c4">Within the rules:</span></p><p class="c0"><span class="c4">= Rule</span></p><p class="c0"><span class="c4">: Define</span></p><p class="c2 c0"><span class="c4"></span></p><p class="c2 c0"><span class="c4"></span></p><p class="c2 c0"><span class="c4"></span></p><p class="c2 c0"><span class="c4"></span></p><p class="c2 c0"><span class="c4"></span></p><p class="c2 c0"><span class="c4 c8"></span></p><p class="c2 c0"><span class="c4 c8"></span></p><p class="c2 c0"><span class="c4 c8"></span></p></body></html>